/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Vista;

import javax.swing.JOptionPane;
import Modelo.Empleado; 
import Modelo.EmpleadoDB;
import static Vista.interfaceMenu.vistaPrincipal;
import java.awt.Color;
import java.awt.Dimension;
import java.util.List;
import java.util.Vector;
public class vistaEmpleado extends javax.swing.JInternalFrame {

    private EmpleadoDB e;
    private  Empleado empleado,empleadoActualiza;
    public vistaEmpleado() {
  
        initComponents();
        this.getContentPane().setBackground(Color.decode("#F0EFE8"));
        e=new EmpleadoDB();
        cargarTabla();
    }
 

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jScrollPane2 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();

        setBackground(new java.awt.Color(240, 239, 232));
        setTitle("Empleados");

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null, null}
            },
            new String [] {
                "Id", "Nombre", "Apellido Paterno", "Apellido Materno", "Calle", "Numero", "Colonia", "Municipio", "Estado", "Numero de Telefono"
            }
        ));
        jScrollPane2.setViewportView(jTable2);

        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/agregar.png"))); // NOI18N
        jButton1.setBorder(null);
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/editar.png"))); // NOI18N
        jButton2.setBorder(null);
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/eliminar.png"))); // NOI18N
        jButton3.setBorder(null);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 1265, Short.MAX_VALUE)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButton1)
                .addGap(124, 124, 124)
                .addComponent(jButton2)
                .addGap(115, 115, 115)
                .addComponent(jButton3)
                .addGap(324, 324, 324))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 341, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(56, 56, 56)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton2)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jButton1, javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jButton3, javax.swing.GroupLayout.Alignment.TRAILING)))
                .addContainerGap(70, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
 
        vistaDatosEmpleado datosEmpleado = new vistaDatosEmpleado();
        datosEmpleado.setClosable(true);
        interfaceMenu.vistaPrincipal.add(datosEmpleado);
        Dimension dim = interfaceMenu.vistaPrincipal.getSize();
        Dimension dimForm = datosEmpleado.getSize();
        datosEmpleado.setLocation((dim.width - dimForm.width) / 2, (dim.height - dimForm.height) / 2);
        datosEmpleado.toFront();
        datosEmpleado.setVisible(true);
        
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        int filaPulsada = jTable2.getSelectedRow();
        if (filaPulsada >= 0) {
            empleadoActualiza = new Empleado();
            int id = (int) jTable2.getValueAt(filaPulsada, 0);
            String nombre = (String) jTable2.getValueAt(filaPulsada, 1);
            String aPaterno = (String) jTable2.getValueAt(filaPulsada, 2);
            String aMaterno = (String) jTable2.getValueAt(filaPulsada, 3);
            String calle = (String) jTable2.getValueAt(filaPulsada, 4);
            int numero = (int) jTable2.getValueAt(filaPulsada, 5);
            String colonia = (String) jTable2.getValueAt(filaPulsada, 6);
            String municipio = (String) jTable2.getValueAt(filaPulsada, 7);
            String estado = (String) jTable2.getValueAt(filaPulsada, 8);
            String telefono = (String) jTable2.getValueAt(filaPulsada, 9);

            empleadoActualiza.setId(id);
            empleadoActualiza.setNombre(nombre);
            empleadoActualiza.setaPaterno(aPaterno);
            empleadoActualiza.setaMaterno(aMaterno);
            empleadoActualiza.setCalle(calle);
            empleadoActualiza.setNumero(numero);
            empleadoActualiza.setColonia(colonia);
            empleadoActualiza.setMunicipio(municipio);
            empleadoActualiza.setEstado(estado);
            empleadoActualiza.setNumTel(telefono);

            System.out.println(empleadoActualiza.regresaDatos());
            e.deleteEmpleado(empleadoActualiza);
            //cliente = empleadoActualiza;
           // empleadoActualiza= (Cliente) cliente.clone();
           // System.out.println(empleadoActualiza.regresaDatos());
           // c.selectCliente(cliente);

            vistaDatosEmpleadoActualiza datosEmpleado = new vistaDatosEmpleadoActualiza(empleadoActualiza);
            datosEmpleado.setClosable(true);
            interfaceMenu.vistaPrincipal.add(datosEmpleado);
            Dimension dim = interfaceMenu.vistaPrincipal.getSize();
            Dimension dimForm = datosEmpleado.getSize();
            datosEmpleado.setLocation((dim.width - dimForm.width) / 2, (dim.height - dimForm.height) / 2);
            datosEmpleado.toFront();
            datosEmpleado.setVisible(true);
        
        }
    }//GEN-LAST:event_jButton2ActionPerformed
       
    private void formInternalFrameClosed(javax.swing.event.InternalFrameEvent evt) {                                         
        // TODO add your handling code here:
        vistaPrincipal.removeAll();
        vistaPrincipal.updateUI();
    }
    
      protected void cargarTabla() {
//        Vector<Object> fila;
        List<Empleado> empleado = e.listEmpleado();
        int i=0;
        for (Empleado e : empleado) {
            
            
           
            jTable2.setValueAt(e.getId(),i ,0);
            jTable2.setValueAt(e.getNombre(),i,1);
            jTable2.setValueAt(e.getaPaterno(), i,2);
            jTable2.setValueAt(e.getaMaterno(), i, 3);
            jTable2.setValueAt(e.getCalle(),i,4);
            jTable2.setValueAt(e.getNumero(),i,5);
            jTable2.setValueAt(e.getColonia(),i,6);
            jTable2.setValueAt(e.getMunicipio(),i,7);
            jTable2.setValueAt(e.getEstado(),i,8);
            jTable2.setValueAt(e.getNumTel(), i, 9);
            
            i++;
        }
    }



    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTable jTable2;
    // End of variables declaration//GEN-END:variables
}

